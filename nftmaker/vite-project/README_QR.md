# QRコードNFTミントアプリ

スマホでQRコードをスキャンして画像をアップロードし、パソコン側でNFTをミントするアプリケーションです。

## 機能

- QRコードを生成してスマホと共有
- スマホから画像をアップロード
- パソコン側でリアルタイムに進捗を確認
- IPFSにアップロードしてNFTをミント

## セットアップ

### 1. 依存関係のインストール

```bash
npm install
```

### 2. サーバーとフロントエンドを同時に起動

```bash
npm run dev:all
```

または、別々のターミナルで起動：

```bash
# ターミナル1: サーバー起動
npm run server

# ターミナル2: フロントエンド起動
npm run dev
```

### 3. アクセス

- **パソコン側（メイン画面）**: http://localhost:5173
- **スマホ側**: QRコードをスキャンしてアクセス

## 使い方

### スマホがある場合

1. **パソコン側**:
   - MetaMaskを接続
   - ウォレット接続後、自動的にセッションが作成され、QRコードが表示されます

2. **スマホ側**:
   - QRコードをスキャン
   - 画像を選択してアップロード
   - アップロード完了を確認

3. **パソコン側**:
   - スマホからのアップロードを自動検知
   - IPFSにアップロード
   - NFTをミント
   - 進捗がリアルタイムで表示されます

### スマホがない場合（動作確認用）

1. **パソコン側**:
   - MetaMaskを接続
   - QRコードの下に表示されるURLをコピー、または「新しいタブで開く」ボタンをクリック

2. **別のブラウザタブ**:
   - コピーしたURLを新しいタブで開く（または「新しいタブで開く」ボタンを使用）
   - 画像を選択してアップロード
   - アップロード完了を確認

3. **元のタブ（パソコン側）**:
   - 自動的に画像を受信
   - IPFSにアップロード
   - NFTをミント
   - 進捗がリアルタイムで表示されます

**注意**: 同じPCの別タブでも動作確認できますが、実際のスマホでの使用を想定した機能です。

## 技術スタック

- **フロントエンド**: React + TypeScript + Vite + Material-UI
- **バックエンド**: Express.js
- **ブロックチェーン**: Ethereum (Sepolia Testnet)
- **ストレージ**: IPFS (Lighthouse)
- **QRコード**: qrcode.react

## 注意事項

- Sepoliaテストネットを使用しています
- MetaMaskが必要です
- サーバーはポート3001で起動します
- フロントエンドはポート5173で起動します（Viteのデフォルト）

## 環境変数（オプション）

IPFSアップロードのAPIキーを環境変数で設定できます：

```bash
export LIGHTHOUSE_API_KEY=your_api_key_here
```

または、`.env`ファイルを作成：

```
LIGHTHOUSE_API_KEY=your_api_key_here
```

環境変数が設定されていない場合、デフォルト値が使用されます（開発用）。

## Vercelへのデプロイ

このプロジェクトをVercelにデプロイする方法については、[VERCEL_DEPLOY.md](./VERCEL_DEPLOY.md)を参照してください。

### クイックスタート

1. **Vercel CLIをインストール**
   ```bash
   npm i -g vercel
   ```

2. **デプロイ**
   ```bash
   cd nftmaker/vite-project
   vercel
   ```

3. **環境変数を設定**
   - Vercelダッシュボードで `LIGHTHOUSE_API_KEY` を設定

詳細は [VERCEL_DEPLOY.md](./VERCEL_DEPLOY.md) を参照してください。

